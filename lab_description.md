# Лабораторна робота 2
## Cистемні виклики **write()/read()**

### Write()
Синтаксис write():
```
#include<unistd.h>
ssize_t write(int fd, const void *buf, size_t count);
```
Базуючись на [Write](write.c), [Write2](write2.c), [Write3](write3.c), [Write4](write4.c), [Write5](write5.c) в якому випадку виклик write() буде успішним? якщо буде помилка, що тоді повернеться?

### Read()

Синтаксис read():
```
#include<unistd.h>
ssize_t read(int fd, const void *buf, size_t count);
```

Використовуючи [read](read.c) та [read1](read1.c) як основу, а також приклади з використанням виклику write() напишіть
1. програму яка буде читати максимум 15 символів які введе користувач і виведіть їх на екран
2. програму яка буде виводити кількість символів які були прочитаними викликом read()

### Питання:
1. Що повертає системний виклик write() після успіху?
2. Що повертає системний виклик write() у разі відмови?
3. Чи можете ви використовувати систему write() для надсилання даних на принтер?
4. Чи можна використовувати систему запису для запису у файл «xyz.txt», не знаючи дескриптора файлу xyz.txt?
5. Як отримати доступ до man сторінки  write()?
6. Що повертає системний виклик read() після успіху?

## Cистемний виклик **open()**

### open()

Синтаксис:
```
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
    int open(const char *pathname, int flags);
    int open(const char *pathname, int flags, mode_t mode);
```

перший варіант:
```
int open(const char *pathname, int flags);
```

1. Створіть text.txt файл з довільним контентом. Наприклад 1234567890abcdefghij54321
2. скомпілюйте [open](open.c): gcc open.c
3. запустіть: ./a.out

другий варіант:

```
int open(const char *pathname, int flags, mode_t mode);

```
використовуючи [open2](open2.c) считайте 8 символів з text.txt і запишіть в неіснуючий файл towrite.txt

### Завдання

1. Напишіть програму для читання вмісту файлу F1 у файл F2. Вміст файлу F2 не повинен бути видалений або перезаписаний.
підказка: використовуйте прапор O_APPEND
2. Напишіть програму за допомогою системного виклику open() для копіювання вмісту одного файлу в інший файл.

### Питання:
1. Що повертає системний виклик open() після успіху?
2. Який системний виклик використовується, щоб дізнатися дескриптор файлу?
3. Значення дескриптора файлу будь-якого файлу, створеного користувачем, завжди більше 2. Чому?
4. Яка різниця між прапорами O_APPEND та O_TRUNC, що використовуються в системному виклику open()?

## Cистемний виклик **fork()**

Синтаксис:
```
#include<unistd.h>
    pid_t fork(void);
```

### Завдання:
Використовуючи як приклад [fork](fork.c):
1. Напишіть програму за допомогою системного виклику fork() для створення двох дочірніх процесів, тобто батьківського P, що має дочірні процеси P1 і P2.
2. Напишіть програму, використовуючи системний виклик fork(), щоб створити ієрархію з трьох процесів, так що P2 є дочірнім до P1, а P1 — дочірнім до P.

### Питання:
1. Що повертає системний виклик fork() після успіху?
2. Що таке PID дочірнього процесу?
3. Яка функція використовується для отримання PID процесу?
4. Скільки всього процесів створено за допомогою коду нижче:
```
int main()
{
  fork();
  fork();
}
```

## Cистемний виклик **wait()**

Синтаксис:
```
#include <sys/types.h>
#include <sys/wait.h>

    pid_t wait(int *wstatus);
```
### Завдання:
Використовуючи як приклад [wait](wait.c):
1. Створіть стосунки «parent-child» між двома процесами. 
* Parent має надрукувати два твердження:
    - A) Parent (P) має ідентифікатор <PID>
    - B) Ідентифікатор child P — <PID_of_Child>
* Child повинна надрукувати два вислови:
    - C) У child є ідентифікатор <PID>
    - D) Мій parent ідентифікатор <PID_of_Parent>
* Використовуйте wait() таким чином, щоб порядок чотирьох операторів A, B, C і D був:
A
B
C
D

Ви можете використовувати будь-який інший відповідний оператор/printf на свій розсуд, і порядок їх виконання не має значення.

2. Створіть зв’язок «parent-child» між двома процесами, щоб процес «child» створив файл з іменем Relation.txt, а процес «parent» записав в нього деякий вміст, беручи вхідні дані від користувача.

3. Напишіть програму для створення двох дочірніх процесів. Батьківський процес повинен почекати, поки обидва дитини закінчать.

### Питання:
1. Чи можемо ми використовувати wait(), щоб змусити дочірній процес чекати завершення батьківського процесу?
2. Що повертає системний виклик wait() після успіху?